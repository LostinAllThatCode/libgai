\hypertarget{_2tests_2xwindow_2default_win32_2main_8cpp-example}{}\section{/tests/xwindow/default\+\_\+win32/main.\+cpp}
Initializes a window for the current platform create\+\_\+and\+\_\+init\+\_\+gaixw\+\_\+context


\begin{DoxyParams}{Parameters}
{\em window} & A pointer to a \hyperlink{gai__xwindow_8h_structgaixw__context}{gaixw\+\_\+context} structure \\
\hline
{\em title} & (optional) Title \\
\hline
{\em width} & (optional) Width \\
\hline
{\em height} & (optional) Height \\
\hline
{\em x} & (optional) X position \\
\hline
{\em y} & (optional) Y position \\
\hline
{\em classname} & (optional) Unique classname for this window instance \\
\hline
{\em visible} & (optional) Specifies if the window is visible after creation or not\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}\textbf{ Return Code }&\textbf{ Windows }&\textbf{ Linux  }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\textbf{ Return Code }&\textbf{ Windows }&\textbf{ Linux  }\\\cline{1-3}
\endhead
1 &Success &Success \\\cline{1-3}
0 &Convert\+Thread\+To\+Fiber failed &Not implemented yet! \\\cline{1-3}
-\/1 &Register\+Class\+ExA failed &Not implemented yet! \\\cline{1-3}
-\/2 &Create\+WindowA failed &Not implemented yet! \\\cline{1-3}
-\/3 &(Open\+GL) Choose\+Pixel\+Format failed &Not implemented yet! \\\cline{1-3}
-\/4 &(Open\+GL) Set\+Pixel\+Format failed &Not implemented yet! \\\cline{1-3}
-\/5 &(Open\+GL) wgl\+Create\+Context failed &Not implemented yet! \\\cline{1-3}
-\/6 &(Open\+GL) wgl\+Make\+Current failed &Not implemented yet! \\\cline{1-3}
\end{longtabu}

\end{DoxyReturn}

\begin{DoxyCodeInclude}
\textcolor{preprocessor}{#define GAIXW\_IMPLEMENTATION}
\textcolor{preprocessor}{#include <\hyperlink{gai__xwindow_8h}{gai\_xwindow.h}>}
\textcolor{preprocessor}{#include <stdio.h>}

LRESULT CALLBACK
MyWindowMessageHandler(HWND hWnd, UINT uMsg, WPARAM wParam, LPARAM lParam)
\{
    \hyperlink{gai__xwindow_8h_structgaixw__context}{gaixw\_context} *window = (\hyperlink{gai__xwindow_8h_structgaixw__context}{gaixw\_context} *) GetWindowLongPtr(hWnd, 
      GWLP\_USERDATA);
    \textcolor{keywordflow}{if} (window)
    \{
        \textcolor{keywordflow}{switch} (uMsg)
        \{
            \textcolor{keywordflow}{case} WM\_PAINT:
            \{
                RECT r = \{ 0, 0, 120, 50 \};
                DrawText(window->\hyperlink{gai__xwindow_8h_a9d391696a94058b975ca9ed4510db1af}{platform}.win32.hdc, \textcolor{stringliteral}{"Hallo"}, 5, &r, DT\_INTERNAL | DT\_NOCLIP);
            \} \textcolor{keywordflow}{break};
        \}
    \}
    \textcolor{keywordflow}{return} gaixw\_WindowProc(hWnd, uMsg, wParam, lParam);
\}

\textcolor{keywordtype}{int} main(\textcolor{keywordtype}{int} argc, \textcolor{keywordtype}{char}** argv)
\{
    \hyperlink{gai__xwindow_8h_structgaixw__context}{gaixw\_context} window = \{\};
    \textcolor{keywordflow}{if} (!gaixw\_Init(&window, \textcolor{stringliteral}{"default example"}, 640, 480)) \textcolor{keywordflow}{return} -1;
    SetWindowLongPtr(window.\hyperlink{gai__xwindow_8h_a9d391696a94058b975ca9ed4510db1af}{platform}.win32.hwnd, GWLP\_WNDPROC, (LONG\_PTR) MyWindowMessageHandler);
    \hyperlink{gai__xwindow_8h_a2f1b687718407be2be1eaf2646405c2c}{gaixw\_Update}(&window);
    \hyperlink{gai__xwindow_8h_a986353262ac6038b69005bec8111ac56}{gaixw\_Deinit}(&window);
    \textcolor{keywordflow}{return} 0;
\}
\end{DoxyCodeInclude}
 