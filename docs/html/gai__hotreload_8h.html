<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libgai: gai_hotreload.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libgai
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('gai__hotreload_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">gai_hotreload.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Tracks when a file change happened to a file ( For windows it only check for filetime write changes. So it will trigger an event when you save the file or replace it with another )  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;windows.h&gt;</code><br />
<code>#include &lt;assert.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for gai_hotreload.h:</div>
<div class="dyncontent">
<div class="center"><img src="gai__hotreload_8h__incl.png" border="0" usemap="#gai__hotreload_8h" alt=""/></div>
</div>
</div>
<p><a href="gai__hotreload_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:structgaihr__filetime"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gai__hotreload_8h.html#structgaihr__filetime">gaihr_filetime</a></td></tr>
<tr class="separator:structgaihr__filetime"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structgaihr__platform__win32"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gai__hotreload_8h.html#structgaihr__platform__win32">gaihr_platform_win32</a></td></tr>
<tr class="separator:structgaihr__platform__win32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:uniongaihr__platform"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gai__hotreload_8h.html#uniongaihr__platform">gaihr_platform</a></td></tr>
<tr class="separator:uniongaihr__platform"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structgaihr__file"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gai__hotreload_8h.html#structgaihr__file">gaihr_file</a></td></tr>
<tr class="separator:structgaihr__file"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a36b03891b740d035afdd1f32e15c91ad"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gai__hotreload_8h.html#a36b03891b740d035afdd1f32e15c91ad">GAIHR_WAIT_INFINITE</a>&#160;&#160;&#160;-1</td></tr>
<tr class="separator:a36b03891b740d035afdd1f32e15c91ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7385b7149ef022fa38140e2b2a540502"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gai__hotreload_8h.html#a7385b7149ef022fa38140e2b2a540502">GAIHR_THREAD_TIMEOUT</a>&#160;&#160;&#160;1000</td></tr>
<tr class="separator:a7385b7149ef022fa38140e2b2a540502"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac26b515249679c1f9036430164867ba0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gai__hotreload_8h.html#ac26b515249679c1f9036430164867ba0">GAIHR_FILE_LIMIT</a>&#160;&#160;&#160;64</td></tr>
<tr class="separator:ac26b515249679c1f9036430164867ba0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32983003a4e816a8350f01cb22d1b01b"><td class="memItemLeft" align="right" valign="top"><a id="a32983003a4e816a8350f01cb22d1b01b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gai__hotreload_8h.html#a32983003a4e816a8350f01cb22d1b01b">GAIHR_API</a>&#160;&#160;&#160;extern</td></tr>
<tr class="memdesc:a32983003a4e816a8350f01cb22d1b01b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define <b>GAIHR_STATIC</b> if you want to make functions <b>static</b> instead of <b>extern</b> <br /></td></tr>
<tr class="separator:a32983003a4e816a8350f01cb22d1b01b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11e965cbb3e2af8ed1888b0c6b2777da"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gai__hotreload_8h.html#a11e965cbb3e2af8ed1888b0c6b2777da">GAIHR_ASSERT</a>(cond)&#160;&#160;&#160;assert(cond)</td></tr>
<tr class="memdesc:a11e965cbb3e2af8ed1888b0c6b2777da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define <b>GAIHR_ASSERT</b> before including this file to <b>disable</b> assertions.  <a href="#a11e965cbb3e2af8ed1888b0c6b2777da">More...</a><br /></td></tr>
<tr class="separator:a11e965cbb3e2af8ed1888b0c6b2777da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f8c5bfe220445bbbb8e1c9ef176838a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gai__hotreload_8h.html#a6f8c5bfe220445bbbb8e1c9ef176838a">GAIHR_CALLBACK</a>(name)&#160;&#160;&#160;void name(<a class="el" href="gai__hotreload_8h.html#structgaihr__file">gaihr_file</a> *file)</td></tr>
<tr class="memdesc:a6f8c5bfe220445bbbb8e1c9ef176838a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function macro which will generate a function as specified by <a class="el" href="gai__hotreload_8h.html#a8026f464cf8636b763b6f03798d40800">gaihr_callback</a>.  <a href="#a6f8c5bfe220445bbbb8e1c9ef176838a">More...</a><br /></td></tr>
<tr class="separator:a6f8c5bfe220445bbbb8e1c9ef176838a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a8026f464cf8636b763b6f03798d40800"><td class="memItemLeft" align="right" valign="top"><a id="a8026f464cf8636b763b6f03798d40800"></a>
typedef void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gai__hotreload_8h.html#a8026f464cf8636b763b6f03798d40800">gaihr_callback</a>(<a class="el" href="gai__hotreload_8h.html#structgaihr__file">gaihr_file</a> *file)</td></tr>
<tr class="memdesc:a8026f464cf8636b763b6f03798d40800"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function which will be called when an event was fired See <a class="el" href="gai__hotreload_8h.html#a6f8c5bfe220445bbbb8e1c9ef176838a">GAIHR_CALLBACK</a>. <br /></td></tr>
<tr class="separator:a8026f464cf8636b763b6f03798d40800"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:aaebb069b6896f065efd75640e0e4150b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gai__hotreload_8h.html#aaebb069b6896f065efd75640e0e4150b">gaihr_flags</a> { <a class="el" href="gai__hotreload_8h.html#aaebb069b6896f065efd75640e0e4150ba6c207a28fdce6637b4aa1e70e64c3e94">gaihr_FlagsNone</a> = 0x0, 
<a class="el" href="gai__hotreload_8h.html#aaebb069b6896f065efd75640e0e4150ba158375938f45efe930ee7416d19e5a6c">gaihr_FlagsDontHandleEvent</a> = 0x1, 
<a class="el" href="gai__hotreload_8h.html#aaebb069b6896f065efd75640e0e4150babfc4c1c7557333f4e2cddf40cacefc7a">gaihr_FlagsDontResetEvent</a> = 0x2, 
<a class="el" href="gai__hotreload_8h.html#aaebb069b6896f065efd75640e0e4150baee50ce1492a508e5605592106fa00bd5">gaihr_FlagsSkipInitialChange</a> = 0x4
 }<tr class="memdesc:aaebb069b6896f065efd75640e0e4150b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This flags specify how the event and callback function will be handled.  <a href="gai__hotreload_8h.html#aaebb069b6896f065efd75640e0e4150b">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:aaebb069b6896f065efd75640e0e4150b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad83d8f6170f0404fb72803d012ac9f6a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gai__hotreload_8h.html#a32983003a4e816a8350f01cb22d1b01b">GAIHR_API</a> unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gai__hotreload_8h.html#ad83d8f6170f0404fb72803d012ac9f6a">gaihr_Track</a> (<a class="el" href="gai__hotreload_8h.html#structgaihr__file">gaihr_file</a> *file, const char *filename, <a class="el" href="gai__hotreload_8h.html#a8026f464cf8636b763b6f03798d40800">gaihr_callback</a> *callback=0, void *userdata=0, <a class="el" href="gai__hotreload_8h.html#aaebb069b6896f065efd75640e0e4150b">gaihr_flags</a> flags=<a class="el" href="gai__hotreload_8h.html#aaebb069b6896f065efd75640e0e4150ba6c207a28fdce6637b4aa1e70e64c3e94">gaihr_FlagsNone</a>)</td></tr>
<tr class="memdesc:ad83d8f6170f0404fb72803d012ac9f6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a file to a worker thread, which internally tracks if the given file was modified. If so it will fire an event which will result in a function call to the callback function or handled differently depending on the specified flags.  <a href="#ad83d8f6170f0404fb72803d012ac9f6a">More...</a><br /></td></tr>
<tr class="separator:ad83d8f6170f0404fb72803d012ac9f6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a288369c901929574624b267de90007cd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gai__hotreload_8h.html#a32983003a4e816a8350f01cb22d1b01b">GAIHR_API</a> unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gai__hotreload_8h.html#a288369c901929574624b267de90007cd">gaihr_Untrack</a> (<a class="el" href="gai__hotreload_8h.html#structgaihr__file">gaihr_file</a> *file)</td></tr>
<tr class="memdesc:a288369c901929574624b267de90007cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a file from the worker thread.  <a href="#a288369c901929574624b267de90007cd">More...</a><br /></td></tr>
<tr class="separator:a288369c901929574624b267de90007cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79d4ca28cdaae457474d55a0a21dd326"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gai__hotreload_8h.html#a32983003a4e816a8350f01cb22d1b01b">GAIHR_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gai__hotreload_8h.html#a79d4ca28cdaae457474d55a0a21dd326">gaihr_WaitForEvent</a> (<a class="el" href="gai__hotreload_8h.html#structgaihr__file">gaihr_file</a> *file)</td></tr>
<tr class="memdesc:a79d4ca28cdaae457474d55a0a21dd326"><td class="mdescLeft">&#160;</td><td class="mdescRight">Grabs a mutex for the specified <a class="el" href="gai__hotreload_8h.html#structgaihr__file">gaihr_file</a> handle and waits for an event. If a callback function is specifed and an event happend the callback function will be called.  <a href="#a79d4ca28cdaae457474d55a0a21dd326">More...</a><br /></td></tr>
<tr class="separator:a79d4ca28cdaae457474d55a0a21dd326"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52aa011dc92eb63b9d5fc7993042eb3f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gai__hotreload_8h.html#a32983003a4e816a8350f01cb22d1b01b">GAIHR_API</a> unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gai__hotreload_8h.html#a52aa011dc92eb63b9d5fc7993042eb3f">_gaihr_BeginTicketMutex</a> (<a class="el" href="gai__hotreload_8h.html#structgaihr__file">gaihr_file</a> *file, int timeout=<a class="el" href="gai__hotreload_8h.html#a36b03891b740d035afdd1f32e15c91ad">GAIHR_WAIT_INFINITE</a>)</td></tr>
<tr class="memdesc:a52aa011dc92eb63b9d5fc7993042eb3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens a mutex to access the data safely in a multi-threaded way.  <a href="#a52aa011dc92eb63b9d5fc7993042eb3f">More...</a><br /></td></tr>
<tr class="separator:a52aa011dc92eb63b9d5fc7993042eb3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6e501372d35a3645332dadb8f612e3c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gai__hotreload_8h.html#a32983003a4e816a8350f01cb22d1b01b">GAIHR_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gai__hotreload_8h.html#ae6e501372d35a3645332dadb8f612e3c">_gaihr_EndTicketMutex</a> (<a class="el" href="gai__hotreload_8h.html#structgaihr__file">gaihr_file</a> *file)</td></tr>
<tr class="memdesc:ae6e501372d35a3645332dadb8f612e3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases the previously opened mutex to allow other thread to use this mutex.  <a href="#ae6e501372d35a3645332dadb8f612e3c">More...</a><br /></td></tr>
<tr class="separator:ae6e501372d35a3645332dadb8f612e3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a465162f1865f5f804311c153c0995543"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gai__hotreload_8h.html#a32983003a4e816a8350f01cb22d1b01b">GAIHR_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gai__hotreload_8h.html#a465162f1865f5f804311c153c0995543">_gaihr_SetEvent</a> (<a class="el" href="gai__hotreload_8h.html#structgaihr__file">gaihr_file</a> *file)</td></tr>
<tr class="memdesc:a465162f1865f5f804311c153c0995543"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signals a file change to the user.  <a href="#a465162f1865f5f804311c153c0995543">More...</a><br /></td></tr>
<tr class="separator:a465162f1865f5f804311c153c0995543"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba347f4afef1dd5f850142adf487fa26"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gai__hotreload_8h.html#a32983003a4e816a8350f01cb22d1b01b">GAIHR_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gai__hotreload_8h.html#aba347f4afef1dd5f850142adf487fa26">_gaihr_ResetEvent</a> (<a class="el" href="gai__hotreload_8h.html#structgaihr__file">gaihr_file</a> *file)</td></tr>
<tr class="memdesc:aba347f4afef1dd5f850142adf487fa26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the previously set signal.  <a href="#aba347f4afef1dd5f850142adf487fa26">More...</a><br /></td></tr>
<tr class="separator:aba347f4afef1dd5f850142adf487fa26"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:affcc82be3377e9546e28872eda3caa5f"><td class="memItemLeft" align="right" valign="top"><a id="affcc82be3377e9546e28872eda3caa5f"></a>
static <a class="el" href="gai__hotreload_8h.html#structgaihr__file">gaihr_file</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>_gaihr_files</b> [<a class="el" href="gai__hotreload_8h.html#ac26b515249679c1f9036430164867ba0">GAIHR_FILE_LIMIT</a>]</td></tr>
<tr class="separator:affcc82be3377e9546e28872eda3caa5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Tracks when a file change happened to a file ( For windows it only check for filetime write changes. So it will trigger an event when you save the file or replace it with another ) </p>
<dl class="section attention"><dt>Attention</dt><dd><b>ONLY WINDOWS IS SUPPORTED</b> <br />
 <b>Linker dependencies: user32.lib</b></dd></dl>
<h1><a class="anchor" id="gaihr_intro"></a>
Introduction</h1>
<p>The tracking will take place on a seperate thread which will be started the first time you add a file via gaihr_Track(...) call. You can specify different flags on how the event and callback function will be handled. See the <a class="el" href="gai__hotreload_8h.html#aaebb069b6896f065efd75640e0e4150b">gaihr_flags</a> definition.</p>
<p>You can use this api to do hotreloading of dll's or texture's or just plain textfile's.</p>
<p>Do this: </p><pre class="fragment">#define GAIHR_IMPLEMENTATION
</pre><p>before you include this file in <em>one</em> C++ file to create the implementation.</p>
<dl class="section note"><dt>Note</dt><dd><b>All function prefixed with a underscore(_) are internally used functions.</b> <b>DO NOT use them if you are not 100% sure what they do.</b></dd></dl>
<h2><a class="anchor" id="gaihr_code_example"></a>
Example Code</h2>
<p>A file with the name "testfile.txt" has to be in the directory of the executable. After running the executable you have to change the file's content and save it or replace it with another file (same filename).</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define GAIHR_IMPLEMENTATION</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="gai__hotreload_8h.html">gai_hotreload.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">volatile</span> <span class="keywordtype">int</span> running = 1; <span class="comment">// This will be changed by another thread!</span></div><div class="line"></div><div class="line"><a class="code" href="gai__hotreload_8h.html#a6f8c5bfe220445bbbb8e1c9ef176838a">GAIHR_CALLBACK</a>(printFileContentAndStop)</div><div class="line">{</div><div class="line">    <span class="keywordtype">long</span> filesize = 0;</div><div class="line">    <span class="keywordtype">char</span> *filecontent = 0;</div><div class="line">    <span class="keywordtype">size_t</span> result;</div><div class="line">    running = 0;</div><div class="line"></div><div class="line">    FILE *fp = fopen(file-&gt;filename, <span class="stringliteral">&quot;rb&quot;</span>);</div><div class="line">    <span class="keywordflow">if</span> (fp)</div><div class="line">    {</div><div class="line">        fseek(fp , 0 , SEEK_END);</div><div class="line">        filesize = ftell(fp);</div><div class="line">        rewind(fp);</div><div class="line">        filecontent = (<span class="keywordtype">char</span>*) malloc(filesize+1);</div><div class="line">        <span class="keywordflow">if</span> (!filecontent)</div><div class="line">        {</div><div class="line">            fclose(fp);</div><div class="line">            printf(<span class="stringliteral">&quot;malloc error\n&quot;</span>);</div><div class="line">            <span class="keywordflow">return</span>;</div><div class="line">        }</div><div class="line"></div><div class="line">        result = fread(filecontent, 1, filesize, fp);</div><div class="line">        <span class="keywordflow">if</span> (result != filesize)</div><div class="line">        {</div><div class="line">            fclose(fp);</div><div class="line">            printf(<span class="stringliteral">&quot;file read failed\n&quot;</span>);</div><div class="line">            <span class="keywordflow">return</span>;</div><div class="line">        }</div><div class="line">        filecontent[filesize] = 0;</div><div class="line">        printf(<span class="stringliteral">&quot;%s changed!\nnew file content:\n%s\n&quot;</span>, file-&gt;filename, filecontent);</div><div class="line">        free(filecontent);</div><div class="line">        fclose(fp);</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div><div class="line">{</div><div class="line">    <a class="code" href="gai__hotreload_8h.html#structgaihr__file">gaihr_file</a> MyFile = {};</div><div class="line">    <a class="code" href="gai__hotreload_8h.html#ad83d8f6170f0404fb72803d012ac9f6a">gaihr_Track</a>(&amp;MyFile, <span class="stringliteral">&quot;testfile.txt&quot;</span>, printFileContentAndStop, 0, <a class="code" href="gai__hotreload_8h.html#aaebb069b6896f065efd75640e0e4150baee50ce1492a508e5605592106fa00bd5">gaihr_FlagsSkipInitialChange</a>);</div><div class="line">    printf(<span class="stringliteral">&quot;Please change the file content or replace the file now...\n&quot;</span>);</div><div class="line">    <span class="keywordflow">while</span> (running) {Sleep(125);}</div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><dl class="section author"><dt>Author</dt><dd>Andreas Gaida </dd></dl>
<dl class="section date"><dt>Date</dt><dd>25.04.2017 </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://github.com/LostinAllThatCode/libgai">https://github.com/LostinAllThatCode/libgai</a> </dd></dl>
</div><hr/><h2 class="groupheader">Class Documentation</h2>
<a name="structgaihr__filetime" id="structgaihr__filetime"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structgaihr__filetime">&#9670;&nbsp;</a></span>gaihr_filetime</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct gaihr_filetime</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"></div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="aa35cb3a699771f27e62ecff738665169"></a>unsigned int</td>
<td class="fieldname">
highpart</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ac97443b53714d1ed266459ef0158c278"></a>unsigned int</td>
<td class="fieldname">
lowpart</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="structgaihr__platform__win32" id="structgaihr__platform__win32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structgaihr__platform__win32">&#9670;&nbsp;</a></span>gaihr_platform_win32</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct gaihr_platform_win32</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"></div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a146c8d18d7cc6be7113e1afcb92e6a8f"></a>HANDLE</td>
<td class="fieldname">
event</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a6119861cabb0b6251f23e90033780a82"></a>HANDLE</td>
<td class="fieldname">
mutex</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="uniongaihr__platform" id="uniongaihr__platform"></a>
<h2 class="memtitle"><span class="permalink"><a href="#uniongaihr__platform">&#9670;&nbsp;</a></span>gaihr_platform</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">union gaihr_platform</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"></div><div class="dynheader">
Collaboration diagram for gaihr_platform:</div>
<div class="dyncontent">
<div class="center"><img src="uniongaihr__platform__coll__graph.png" border="0" usemap="#gaihr__platform_coll__map" alt="Collaboration graph"/></div>
<map name="gaihr__platform_coll__map" id="gaihr__platform_coll__map">
<area shape="rect" id="node2" href="gai__hotreload_8h.html#structgaihr__platform__win32" title="gaihr_platform_win32" alt="" coords="5,5,132,29"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="afe6263d41992ba905300fa023baf1125"></a><a class="el" href="gai__hotreload_8h.html#structgaihr__platform__win32">gaihr_platform_win32</a></td>
<td class="fieldname">
win32</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="structgaihr__file" id="structgaihr__file"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structgaihr__file">&#9670;&nbsp;</a></span>gaihr_file</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct gaihr_file</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>Think about a way of easily support other platforms. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="hotreload_0Cwin32_0Cmain_8cpp-example.html#_a1">hotreload\win32\main.cpp</a>.</dd>
</dl></div><div class="dynheader">
Collaboration diagram for gaihr_file:</div>
<div class="dyncontent">
<div class="center"><img src="structgaihr__file__coll__graph.png" border="0" usemap="#gaihr__file_coll__map" alt="Collaboration graph"/></div>
<map name="gaihr__file_coll__map" id="gaihr__file_coll__map">
<area shape="rect" id="node2" href="gai__hotreload_8h.html#structgaihr__filetime" title="gaihr_filetime" alt="" coords="5,89,92,113"/>
<area shape="rect" id="node3" href="gai__hotreload_8h.html#uniongaihr__platform" title="gaihr_platform" alt="" coords="116,89,208,113"/>
<area shape="rect" id="node4" href="gai__hotreload_8h.html#structgaihr__platform__win32" title="gaihr_platform_win32" alt="" coords="99,5,225,29"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a9ac45c0142ff1eaf591b870e163d7f31"></a><a class="el" href="gai__hotreload_8h.html#a8026f464cf8636b763b6f03798d40800">gaihr_callback</a> *</td>
<td class="fieldname">
callback</td>
<td class="fielddoc">
<p>Callback to the function when an event happens. See <a class="el" href="gai__hotreload_8h.html#a6f8c5bfe220445bbbb8e1c9ef176838a">GAIHR_CALLBACK</a> </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a26ea2bbf62231c3cae2317ca217f8166"></a>const char *</td>
<td class="fieldname">
filename</td>
<td class="fielddoc">
<p>File to check for changes. </p>
</td></tr>
<tr><td class="fieldtype">
<a id="ab6eef82d50a8a51d161de3ab7ad98ee9"></a><a class="el" href="gai__hotreload_8h.html#aaebb069b6896f065efd75640e0e4150b">gaihr_flags</a></td>
<td class="fieldname">
flags</td>
<td class="fielddoc">
<p>Flags to specify event handling and callback behaviour. </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a38b2bc43116a1fd59715ca1714d80462"></a><a class="el" href="gai__hotreload_8h.html#structgaihr__filetime">gaihr_filetime</a></td>
<td class="fieldname">
last_write_time</td>
<td class="fielddoc">
<p>Filetime structure. </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a138044c270d5f0e83917ae2841efe8b7"></a><a class="el" href="gai__hotreload_8h.html#uniongaihr__platform">gaihr_platform</a></td>
<td class="fieldname">
platform</td>
<td class="fielddoc">
<p>Platform specfic structure for semaphore or mutex handles. </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a06bf963cb9c08e69fcc6c4bb3140a2b8"></a>void *</td>
<td class="fieldname">
userdata</td>
<td class="fielddoc">
<p>User passed data. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a11e965cbb3e2af8ed1888b0c6b2777da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11e965cbb3e2af8ed1888b0c6b2777da">&#9670;&nbsp;</a></span>GAIHR_ASSERT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GAIHR_ASSERT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">cond</td><td>)</td>
          <td>&#160;&#160;&#160;assert(cond)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define <b>GAIHR_ASSERT</b> before including this file to <b>disable</b> assertions. </p>
<dl class="section note"><dt>Note</dt><dd>Uses assert() from the c-standard library by default &lt;assert.h&gt; </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cond</td><td>Assertion condition </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6f8c5bfe220445bbbb8e1c9ef176838a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f8c5bfe220445bbbb8e1c9ef176838a">&#9670;&nbsp;</a></span>GAIHR_CALLBACK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GAIHR_CALLBACK</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name</td><td>)</td>
          <td>&#160;&#160;&#160;void name(<a class="el" href="gai__hotreload_8h.html#structgaihr__file">gaihr_file</a> *file)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback function macro which will generate a function as specified by <a class="el" href="gai__hotreload_8h.html#a8026f464cf8636b763b6f03798d40800">gaihr_callback</a>. </p>
<p><b>Usage</b> <b>example:</b> </p><div class="fragment"><div class="line"><a class="code" href="gai__hotreload_8h.html#a6f8c5bfe220445bbbb8e1c9ef176838a">GAIHR_CALLBACK</a>(myCallbackFunction)</div><div class="line">{</div><div class="line">        <span class="comment">// Do whatever you want here</span></div><div class="line">        printf(<span class="stringliteral">&quot;%s\n&quot;</span>, file-&gt;filename);</div><div class="line">}</div></div><!-- fragment --><p>The above example will actually generate a function which looks like this: </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> myCallbackFunction(<a class="code" href="gai__hotreload_8h.html#structgaihr__file">gaihr_file</a> *file)</div><div class="line">{</div><div class="line">        <span class="comment">// Do whatever you want here</span></div><div class="line">        printf(<span class="stringliteral">&quot;%s\n&quot;</span>, file-&gt;<a class="code" href="gai__hotreload_8h.html#a26ea2bbf62231c3cae2317ca217f8166">filename</a>);</div><div class="line">}</div></div><!-- fragment --><p>See the <a class="el" href="gai__hotreload_8h.html#gaihr_code_example">Example Code</a> section for a simple demonstration. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="hotreload_0Cwin32_0Cmain_8cpp-example.html#a0">hotreload\win32\main.cpp</a>.</dd>
</dl>
</div>
</div>
<a id="ac26b515249679c1f9036430164867ba0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac26b515249679c1f9036430164867ba0">&#9670;&nbsp;</a></span>GAIHR_FILE_LIMIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GAIHR_FILE_LIMIT&#160;&#160;&#160;64</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Max files which will be processed by the worker thread. Note: Will be replaced by a linked list! </p>

</div>
</div>
<a id="a7385b7149ef022fa38140e2b2a540502"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7385b7149ef022fa38140e2b2a540502">&#9670;&nbsp;</a></span>GAIHR_THREAD_TIMEOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GAIHR_THREAD_TIMEOUT&#160;&#160;&#160;1000</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Thread sleeping time until it checks for updated files again </p>

</div>
</div>
<a id="a36b03891b740d035afdd1f32e15c91ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36b03891b740d035afdd1f32e15c91ad">&#9670;&nbsp;</a></span>GAIHR_WAIT_INFINITE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GAIHR_WAIT_INFINITE&#160;&#160;&#160;-1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Note: Currently the windows specified value for INFINITE. Will possibly be changed! </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="aaebb069b6896f065efd75640e0e4150b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaebb069b6896f065efd75640e0e4150b">&#9670;&nbsp;</a></span>gaihr_flags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="gai__hotreload_8h.html#aaebb069b6896f065efd75640e0e4150b">gaihr_flags</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This flags specify how the event and callback function will be handled. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aaebb069b6896f065efd75640e0e4150ba6c207a28fdce6637b4aa1e70e64c3e94"></a>gaihr_FlagsNone&#160;</td><td class="fielddoc"><p>Nothing specified. </p>
</td></tr>
<tr><td class="fieldname"><a id="aaebb069b6896f065efd75640e0e4150ba158375938f45efe930ee7416d19e5a6c"></a>gaihr_FlagsDontHandleEvent&#160;</td><td class="fielddoc"><p>Indicates whether the thread will not call the callback function on event. You should call it yourself! </p>
</td></tr>
<tr><td class="fieldname"><a id="aaebb069b6896f065efd75640e0e4150babfc4c1c7557333f4e2cddf40cacefc7a"></a>gaihr_FlagsDontResetEvent&#160;</td><td class="fielddoc"><p>Indicates whether the marked event will not be resetted after calling the callback function. You have to do reset it yourself! </p>
</td></tr>
<tr><td class="fieldname"><a id="aaebb069b6896f065efd75640e0e4150baee50ce1492a508e5605592106fa00bd5"></a>gaihr_FlagsSkipInitialChange&#160;</td><td class="fielddoc"><p>Indicates whether the initial file change will not result in an event. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a52aa011dc92eb63b9d5fc7993042eb3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52aa011dc92eb63b9d5fc7993042eb3f">&#9670;&nbsp;</a></span>_gaihr_BeginTicketMutex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gai__hotreload_8h.html#a32983003a4e816a8350f01cb22d1b01b">GAIHR_API</a> unsigned int _gaihr_BeginTicketMutex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="gai__hotreload_8h.html#structgaihr__file">gaihr_file</a> *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em> = <code><a class="el" href="gai__hotreload_8h.html#a36b03891b740d035afdd1f32e15c91ad">GAIHR_WAIT_INFINITE</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opens a mutex to access the data safely in a multi-threaded way. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>Handle to a <a class="el" href="gai__hotreload_8h.html#structgaihr__file">gaihr_file</a> instance. </td></tr>
    <tr><td class="paramname">timeout</td><td>Time to grab the mutex. (Can take longer if the mutex is used by another thread and was not released yet!) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><table class="doxtable">
<tr>
<th align="left">Return Code </th><th align="left">Description  </th></tr>
<tr>
<td align="left">1 </td><td align="left">Mutex was succesfully opened </td></tr>
<tr>
<td align="left">0 </td><td align="left">Failure (mutex is probably used by another thread) </td></tr>
</table>
</dd></dl>

</div>
</div>
<a id="ae6e501372d35a3645332dadb8f612e3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6e501372d35a3645332dadb8f612e3c">&#9670;&nbsp;</a></span>_gaihr_EndTicketMutex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gai__hotreload_8h.html#a32983003a4e816a8350f01cb22d1b01b">GAIHR_API</a> void _gaihr_EndTicketMutex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="gai__hotreload_8h.html#structgaihr__file">gaihr_file</a> *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Releases the previously opened mutex to allow other thread to use this mutex. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>Handle to a <a class="el" href="gai__hotreload_8h.html#structgaihr__file">gaihr_file</a> instance. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aba347f4afef1dd5f850142adf487fa26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba347f4afef1dd5f850142adf487fa26">&#9670;&nbsp;</a></span>_gaihr_ResetEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gai__hotreload_8h.html#a32983003a4e816a8350f01cb22d1b01b">GAIHR_API</a> void _gaihr_ResetEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="gai__hotreload_8h.html#structgaihr__file">gaihr_file</a> *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets the previously set signal. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>Handle to a <a class="el" href="gai__hotreload_8h.html#structgaihr__file">gaihr_file</a> instance. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a465162f1865f5f804311c153c0995543"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a465162f1865f5f804311c153c0995543">&#9670;&nbsp;</a></span>_gaihr_SetEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gai__hotreload_8h.html#a32983003a4e816a8350f01cb22d1b01b">GAIHR_API</a> void _gaihr_SetEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="gai__hotreload_8h.html#structgaihr__file">gaihr_file</a> *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Signals a file change to the user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>Handle to a <a class="el" href="gai__hotreload_8h.html#structgaihr__file">gaihr_file</a> instance. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad83d8f6170f0404fb72803d012ac9f6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad83d8f6170f0404fb72803d012ac9f6a">&#9670;&nbsp;</a></span>gaihr_Track()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gai__hotreload_8h.html#a32983003a4e816a8350f01cb22d1b01b">GAIHR_API</a> unsigned int gaihr_Track </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="gai__hotreload_8h.html#structgaihr__file">gaihr_file</a> *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="gai__hotreload_8h.html#a8026f464cf8636b763b6f03798d40800">gaihr_callback</a> *&#160;</td>
          <td class="paramname"><em>callback</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>userdata</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="gai__hotreload_8h.html#aaebb069b6896f065efd75640e0e4150b">gaihr_flags</a>&#160;</td>
          <td class="paramname"><em>flags</em> = <code><a class="el" href="gai__hotreload_8h.html#aaebb069b6896f065efd75640e0e4150ba6c207a28fdce6637b4aa1e70e64c3e94">gaihr_FlagsNone</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a file to a worker thread, which internally tracks if the given file was modified. If so it will fire an event which will result in a function call to the callback function or handled differently depending on the specified flags. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>A pointer to a <a class="el" href="gai__hotreload_8h.html#structgaihr__file">gaihr_file</a> structure. </td></tr>
    <tr><td class="paramname">filename</td><td>Filename of the file to track (relative or full). </td></tr>
    <tr><td class="paramname">callback</td><td>(optional) A pointer to he callback function. See <a class="el" href="gai__hotreload_8h.html#a6f8c5bfe220445bbbb8e1c9ef176838a">GAIHR_CALLBACK</a> </td></tr>
    <tr><td class="paramname">userdata</td><td>(optional) A pointer to userdefined memory. </td></tr>
    <tr><td class="paramname">flags</td><td>(optional) Flags to handle events and callbacks. See <a class="el" href="gai__hotreload_8h.html#aaebb069b6896f065efd75640e0e4150b">gaihr_flags</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><table class="doxtable">
<tr>
<th align="left">Return Code </th><th align="left">Description  </th></tr>
<tr>
<td align="left">1 </td><td align="left">Success </td></tr>
<tr>
<td align="left">0 </td><td align="left">Failure </td></tr>
</table>
</dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="hotreload_0Cwin32_0Cmain_8cpp-example.html#a2">hotreload\win32\main.cpp</a>.</dd>
</dl>
</div>
</div>
<a id="a288369c901929574624b267de90007cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a288369c901929574624b267de90007cd">&#9670;&nbsp;</a></span>gaihr_Untrack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gai__hotreload_8h.html#a32983003a4e816a8350f01cb22d1b01b">GAIHR_API</a> unsigned int gaihr_Untrack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="gai__hotreload_8h.html#structgaihr__file">gaihr_file</a> *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes a file from the worker thread. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>Handle to a <a class="el" href="gai__hotreload_8h.html#structgaihr__file">gaihr_file</a> instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><table class="doxtable">
<tr>
<th align="left">Return Code </th><th align="left">Description  </th></tr>
<tr>
<td align="left">1 </td><td align="left">Success </td></tr>
<tr>
<td align="left">0 </td><td align="left">Failure </td></tr>
</table>
</dd></dl>

</div>
</div>
<a id="a79d4ca28cdaae457474d55a0a21dd326"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79d4ca28cdaae457474d55a0a21dd326">&#9670;&nbsp;</a></span>gaihr_WaitForEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gai__hotreload_8h.html#a32983003a4e816a8350f01cb22d1b01b">GAIHR_API</a> void gaihr_WaitForEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="gai__hotreload_8h.html#structgaihr__file">gaihr_file</a> *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Grabs a mutex for the specified <a class="el" href="gai__hotreload_8h.html#structgaihr__file">gaihr_file</a> handle and waits for an event. If a callback function is specifed and an event happend the callback function will be called. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>Handle to a <a class="el" href="gai__hotreload_8h.html#structgaihr__file">gaihr_file</a> instance. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="gai__hotreload_8h.html">gai_hotreload.h</a></li>
    <li class="footer">Generated on Wed Apr 26 2017 23:36:06 for libgai by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
