<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libgai: gai_hotreload.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libgai
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">gai_hotreload.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This api allows you to track any file changes happen to a file ( not really content wise changes, more filetime changes on save &amp; copy triggers )  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;windows.h&gt;</code><br />
</div>
<p><a href="gai__hotreload_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgaihr__platform.html">gaihr_platform</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Platform specific hotreload layer with mutex and event handles. Should not be used outside of this file!  <a href="structgaihr__platform.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgaihr__file.html">gaihr_file</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hotreloadable file structure.  <a href="structgaihr__file.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a36b03891b740d035afdd1f32e15c91ad"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gai__hotreload_8h.html#a36b03891b740d035afdd1f32e15c91ad">GAIHR_WAIT_INFINITE</a>&#160;&#160;&#160;-1</td></tr>
<tr class="separator:a36b03891b740d035afdd1f32e15c91ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7385b7149ef022fa38140e2b2a540502"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gai__hotreload_8h.html#a7385b7149ef022fa38140e2b2a540502">GAIHR_THREAD_TIMEOUT</a>&#160;&#160;&#160;1000</td></tr>
<tr class="separator:a7385b7149ef022fa38140e2b2a540502"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac26b515249679c1f9036430164867ba0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gai__hotreload_8h.html#ac26b515249679c1f9036430164867ba0">GAIHR_FILE_LIMIT</a>&#160;&#160;&#160;64</td></tr>
<tr class="separator:ac26b515249679c1f9036430164867ba0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32983003a4e816a8350f01cb22d1b01b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gai__hotreload_8h.html#a32983003a4e816a8350f01cb22d1b01b">GAIHR_API</a>&#160;&#160;&#160;extern</td></tr>
<tr class="separator:a32983003a4e816a8350f01cb22d1b01b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a57193639c716f099e0300ccec1e13131"><td class="memItemLeft" align="right" valign="top">typedef void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gai__hotreload_8h.html#a57193639c716f099e0300ccec1e13131">gaihr_callback</a>(<a class="el" href="structgaihr__file.html">gaihr_file</a> *hotreloadable)</td></tr>
<tr class="separator:a57193639c716f099e0300ccec1e13131"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:aaebb069b6896f065efd75640e0e4150b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gai__hotreload_8h.html#aaebb069b6896f065efd75640e0e4150b">gaihr_flags</a> { <a class="el" href="gai__hotreload_8h.html#aaebb069b6896f065efd75640e0e4150ba6c207a28fdce6637b4aa1e70e64c3e94">gaihr_FlagsNone</a> = 0x0, 
<a class="el" href="gai__hotreload_8h.html#aaebb069b6896f065efd75640e0e4150ba158375938f45efe930ee7416d19e5a6c">gaihr_FlagsDontHandleEvent</a> = 0x1, 
<a class="el" href="gai__hotreload_8h.html#aaebb069b6896f065efd75640e0e4150babfc4c1c7557333f4e2cddf40cacefc7a">gaihr_FlagsDontResetEvent</a> = 0x2, 
<a class="el" href="gai__hotreload_8h.html#aaebb069b6896f065efd75640e0e4150baee50ce1492a508e5605592106fa00bd5">gaihr_FlagsSkipInitialChange</a> = 0x4
 }<tr class="memdesc:aaebb069b6896f065efd75640e0e4150b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This flags specify how the event and callback function will be handled.  <a href="gai__hotreload_8h.html#aaebb069b6896f065efd75640e0e4150b">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:aaebb069b6896f065efd75640e0e4150b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad83d8f6170f0404fb72803d012ac9f6a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gai__hotreload_8h.html#a32983003a4e816a8350f01cb22d1b01b">GAIHR_API</a> unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gai__hotreload_8h.html#ad83d8f6170f0404fb72803d012ac9f6a">gaihr_Track</a> (<a class="el" href="structgaihr__file.html">gaihr_file</a> *file, const char *filename, <a class="el" href="gai__hotreload_8h.html#a57193639c716f099e0300ccec1e13131">gaihr_callback</a> *callback=0, void *userdata=0, <a class="el" href="gai__hotreload_8h.html#aaebb069b6896f065efd75640e0e4150b">gaihr_flags</a> flags=<a class="el" href="gai__hotreload_8h.html#aaebb069b6896f065efd75640e0e4150ba6c207a28fdce6637b4aa1e70e64c3e94">gaihr_FlagsNone</a>)</td></tr>
<tr class="memdesc:ad83d8f6170f0404fb72803d012ac9f6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a file to a worker thread, which internally tracks if the given file was modified. If so it will fire an event which will result in a function call to the callback function or handled differently depending on the specified flags.  <a href="#ad83d8f6170f0404fb72803d012ac9f6a">More...</a><br /></td></tr>
<tr class="separator:ad83d8f6170f0404fb72803d012ac9f6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a288369c901929574624b267de90007cd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gai__hotreload_8h.html#a32983003a4e816a8350f01cb22d1b01b">GAIHR_API</a> unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gai__hotreload_8h.html#a288369c901929574624b267de90007cd">gaihr_Untrack</a> (<a class="el" href="structgaihr__file.html">gaihr_file</a> *file)</td></tr>
<tr class="memdesc:a288369c901929574624b267de90007cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a file from the worker thread.  <a href="#a288369c901929574624b267de90007cd">More...</a><br /></td></tr>
<tr class="separator:a288369c901929574624b267de90007cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79d4ca28cdaae457474d55a0a21dd326"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gai__hotreload_8h.html#a32983003a4e816a8350f01cb22d1b01b">GAIHR_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gai__hotreload_8h.html#a79d4ca28cdaae457474d55a0a21dd326">gaihr_WaitForEvent</a> (<a class="el" href="structgaihr__file.html">gaihr_file</a> *file)</td></tr>
<tr class="memdesc:a79d4ca28cdaae457474d55a0a21dd326"><td class="mdescLeft">&#160;</td><td class="mdescRight">Grabs a mutex for the specified <a class="el" href="structgaihr__file.html" title="Hotreloadable file structure. ">gaihr_file</a> handle and waits for an event. If a callback function is specifed and an event happend the callback function will be called.  <a href="#a79d4ca28cdaae457474d55a0a21dd326">More...</a><br /></td></tr>
<tr class="separator:a79d4ca28cdaae457474d55a0a21dd326"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad94dfb45e7cd9129c43fe17b47c85947"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gai__hotreload_8h.html#a32983003a4e816a8350f01cb22d1b01b">GAIHR_API</a> unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gai__hotreload_8h.html#ad94dfb45e7cd9129c43fe17b47c85947">gaihr_BeginTicketMutex</a> (<a class="el" href="structgaihr__file.html">gaihr_file</a> *file, int timeout=<a class="el" href="gai__hotreload_8h.html#a36b03891b740d035afdd1f32e15c91ad">GAIHR_WAIT_INFINITE</a>)</td></tr>
<tr class="memdesc:ad94dfb45e7cd9129c43fe17b47c85947"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens a mutex to access the data safely in a multi-threaded way.  <a href="#ad94dfb45e7cd9129c43fe17b47c85947">More...</a><br /></td></tr>
<tr class="separator:ad94dfb45e7cd9129c43fe17b47c85947"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e1b46e3dba1600f8d0daaf4acb67e71"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gai__hotreload_8h.html#a32983003a4e816a8350f01cb22d1b01b">GAIHR_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gai__hotreload_8h.html#a6e1b46e3dba1600f8d0daaf4acb67e71">gaihr_EndTicketMutex</a> (<a class="el" href="structgaihr__file.html">gaihr_file</a> *file)</td></tr>
<tr class="memdesc:a6e1b46e3dba1600f8d0daaf4acb67e71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases the previously opened mutex to allow other thread to use this mutex.  <a href="#a6e1b46e3dba1600f8d0daaf4acb67e71">More...</a><br /></td></tr>
<tr class="separator:a6e1b46e3dba1600f8d0daaf4acb67e71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fc2d2fd85a6800bb4bcf09435af4d70"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gai__hotreload_8h.html#a32983003a4e816a8350f01cb22d1b01b">GAIHR_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gai__hotreload_8h.html#a9fc2d2fd85a6800bb4bcf09435af4d70">_gaihr_CreateEvent</a> (<a class="el" href="structgaihr__file.html">gaihr_file</a> *file)</td></tr>
<tr class="memdesc:a9fc2d2fd85a6800bb4bcf09435af4d70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signals a file change to the user.  <a href="#a9fc2d2fd85a6800bb4bcf09435af4d70">More...</a><br /></td></tr>
<tr class="separator:a9fc2d2fd85a6800bb4bcf09435af4d70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba347f4afef1dd5f850142adf487fa26"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gai__hotreload_8h.html#a32983003a4e816a8350f01cb22d1b01b">GAIHR_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gai__hotreload_8h.html#aba347f4afef1dd5f850142adf487fa26">_gaihr_ResetEvent</a> (<a class="el" href="structgaihr__file.html">gaihr_file</a> *file)</td></tr>
<tr class="memdesc:aba347f4afef1dd5f850142adf487fa26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the previously set signal.  <a href="#aba347f4afef1dd5f850142adf487fa26">More...</a><br /></td></tr>
<tr class="separator:aba347f4afef1dd5f850142adf487fa26"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This api allows you to track any file changes happen to a file ( not really content wise changes, more filetime changes on save &amp; copy triggers ) </p>
<p>NOTE: ONLY WINDOWS IS SUPPORTED FOR NOW</p>
<p>This api allows you to track any file changes happen to a file ( not really content wise changes, more filetime changes on save &amp; copy triggers ). The tracking will take place on a seperate thread which will be started the first time you add a file via gaihr_Track(...) call. You can specify diffrent flags on how the event and callback function will be handled. See the @gaihr_flags definition.</p>
<p>You can use this api to hotreloading of dlls or textures or just plain textfiles.</p>
<p>Windows linker dependancies: user32.lib</p>
<p>Do this: </p><pre class="fragment">#define GAIHR_IMPLEMENTATION
</pre><p>before you include this file in <em>one</em> C++ file to create the implementation.</p>
<p><b>IMPORTANT</b><br />
<em>All function prefixed with a underscore(_) are internally used functions.</em> <em>DO NOT use them if you are not 100% sure what they do.</em></p>
<hr/>
<p> Example Code Snippet:</p>
<p>A file with the name "testfile.txt" has to be in the directory of the executable. After running the executable you have to change the files content and save it. Or just replace it with another file with the same name.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define GAIHR_IMPLEMENTATION</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="gai__hotreload_8h.html">gai_hotreload.h</a>&quot;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">volatile</span> <span class="keywordtype">int</span> running = 1; <span class="comment">// This will be changed by another thread!</span></div><div class="line"></div><div class="line"><span class="keywordtype">void</span> reloadFile(<a class="code" href="structgaihr__file.html">gaihr_file</a> *file)</div><div class="line">{</div><div class="line">   <span class="comment">// Do whatever you want to do, when this happens.</span></div><div class="line">   printf(<span class="stringliteral">&quot;%s changed!\n&quot;</span>, file-&gt;<a class="code" href="structgaihr__file.html#a26ea2bbf62231c3cae2317ca217f8166">filename</a>);</div><div class="line">   running = 0;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div><div class="line">{</div><div class="line">   <a class="code" href="structgaihr__file.html">gaihr_file</a> MyFile = {};</div><div class="line">   <a class="code" href="gai__hotreload_8h.html#ad83d8f6170f0404fb72803d012ac9f6a">gaihr_Track</a>(&amp;MyFile, <span class="stringliteral">&quot;testfile.txt&quot;</span>, reloadFile, 0, <a class="code" href="gai__hotreload_8h.html#aaebb069b6896f065efd75640e0e4150baee50ce1492a508e5605592106fa00bd5">gaihr_FlagsSkipInitialChange</a>);</div><div class="line">   <span class="keywordflow">while</span>(running) {Sleep(125);}</div><div class="line">   <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --> <dl class="section author"><dt>Author</dt><dd>Andreas Gaida </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1 Sep 2011 </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://github.com/LostinAllThatCode/libgai">https://github.com/LostinAllThatCode/libgai</a> </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a32983003a4e816a8350f01cb22d1b01b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32983003a4e816a8350f01cb22d1b01b">&#9670;&nbsp;</a></span>GAIHR_API</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GAIHR_API&#160;&#160;&#160;extern</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Define GAIHR_STATIC is you want to prefix all functions with the extern identifier. Otherwise the static identifier will be used by default. </p>

</div>
</div>
<a id="ac26b515249679c1f9036430164867ba0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac26b515249679c1f9036430164867ba0">&#9670;&nbsp;</a></span>GAIHR_FILE_LIMIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GAIHR_FILE_LIMIT&#160;&#160;&#160;64</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Max files which will be processed by the worker thread. Note: Will be replaced by a linked list! </p>

</div>
</div>
<a id="a7385b7149ef022fa38140e2b2a540502"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7385b7149ef022fa38140e2b2a540502">&#9670;&nbsp;</a></span>GAIHR_THREAD_TIMEOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GAIHR_THREAD_TIMEOUT&#160;&#160;&#160;1000</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Thread sleeping time until it checks for updated files again </p>

</div>
</div>
<a id="a36b03891b740d035afdd1f32e15c91ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36b03891b740d035afdd1f32e15c91ad">&#9670;&nbsp;</a></span>GAIHR_WAIT_INFINITE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GAIHR_WAIT_INFINITE&#160;&#160;&#160;-1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Note: Currently the windows specified value for INFINITE. Will possibly be changed! </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a57193639c716f099e0300ccec1e13131"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57193639c716f099e0300ccec1e13131">&#9670;&nbsp;</a></span>gaihr_callback</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void gaihr_callback(<a class="el" href="structgaihr__file.html">gaihr_file</a> *hotreloadable)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Callback function typedef which will be call when an event happens. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="aaebb069b6896f065efd75640e0e4150b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaebb069b6896f065efd75640e0e4150b">&#9670;&nbsp;</a></span>gaihr_flags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="gai__hotreload_8h.html#aaebb069b6896f065efd75640e0e4150b">gaihr_flags</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This flags specify how the event and callback function will be handled. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aaebb069b6896f065efd75640e0e4150ba6c207a28fdce6637b4aa1e70e64c3e94"></a>gaihr_FlagsNone&#160;</td><td class="fielddoc"><p>Nothing specified. </p>
</td></tr>
<tr><td class="fieldname"><a id="aaebb069b6896f065efd75640e0e4150ba158375938f45efe930ee7416d19e5a6c"></a>gaihr_FlagsDontHandleEvent&#160;</td><td class="fielddoc"><p>Indicates whether the thread will not call the callback function on event. You should call it yourself! </p>
</td></tr>
<tr><td class="fieldname"><a id="aaebb069b6896f065efd75640e0e4150babfc4c1c7557333f4e2cddf40cacefc7a"></a>gaihr_FlagsDontResetEvent&#160;</td><td class="fielddoc"><p>Indicates whether the marked event will not be resetted after calling the callback function. You have to do reset it yourself! </p>
</td></tr>
<tr><td class="fieldname"><a id="aaebb069b6896f065efd75640e0e4150baee50ce1492a508e5605592106fa00bd5"></a>gaihr_FlagsSkipInitialChange&#160;</td><td class="fielddoc"><p>Indicates whether the initial file change will not result in an event. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a9fc2d2fd85a6800bb4bcf09435af4d70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fc2d2fd85a6800bb4bcf09435af4d70">&#9670;&nbsp;</a></span>_gaihr_CreateEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gai__hotreload_8h.html#a32983003a4e816a8350f01cb22d1b01b">GAIHR_API</a> void _gaihr_CreateEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgaihr__file.html">gaihr_file</a> *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Signals a file change to the user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>Handle to a <a class="el" href="structgaihr__file.html" title="Hotreloadable file structure. ">gaihr_file</a> instance. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aba347f4afef1dd5f850142adf487fa26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba347f4afef1dd5f850142adf487fa26">&#9670;&nbsp;</a></span>_gaihr_ResetEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gai__hotreload_8h.html#a32983003a4e816a8350f01cb22d1b01b">GAIHR_API</a> void _gaihr_ResetEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgaihr__file.html">gaihr_file</a> *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets the previously set signal. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>Handle to a <a class="el" href="structgaihr__file.html" title="Hotreloadable file structure. ">gaihr_file</a> instance. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad94dfb45e7cd9129c43fe17b47c85947"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad94dfb45e7cd9129c43fe17b47c85947">&#9670;&nbsp;</a></span>gaihr_BeginTicketMutex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gai__hotreload_8h.html#a32983003a4e816a8350f01cb22d1b01b">GAIHR_API</a> unsigned int gaihr_BeginTicketMutex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgaihr__file.html">gaihr_file</a> *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em> = <code><a class="el" href="gai__hotreload_8h.html#a36b03891b740d035afdd1f32e15c91ad">GAIHR_WAIT_INFINITE</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opens a mutex to access the data safely in a multi-threaded way. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>Handle to a <a class="el" href="structgaihr__file.html" title="Hotreloadable file structure. ">gaihr_file</a> instance. </td></tr>
    <tr><td class="paramname">timeout</td><td>Time to grab the mutex. (Can take longer if the mutex is used by another thread and was not released yet!) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the mutex was succesfully opened, 0 on failure (mutex is probably used by another thread). </dd></dl>

</div>
</div>
<a id="a6e1b46e3dba1600f8d0daaf4acb67e71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e1b46e3dba1600f8d0daaf4acb67e71">&#9670;&nbsp;</a></span>gaihr_EndTicketMutex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gai__hotreload_8h.html#a32983003a4e816a8350f01cb22d1b01b">GAIHR_API</a> void gaihr_EndTicketMutex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgaihr__file.html">gaihr_file</a> *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Releases the previously opened mutex to allow other thread to use this mutex. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>Handle to a <a class="el" href="structgaihr__file.html" title="Hotreloadable file structure. ">gaihr_file</a> instance. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad83d8f6170f0404fb72803d012ac9f6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad83d8f6170f0404fb72803d012ac9f6a">&#9670;&nbsp;</a></span>gaihr_Track()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gai__hotreload_8h.html#a32983003a4e816a8350f01cb22d1b01b">GAIHR_API</a> unsigned int gaihr_Track </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgaihr__file.html">gaihr_file</a> *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="gai__hotreload_8h.html#a57193639c716f099e0300ccec1e13131">gaihr_callback</a> *&#160;</td>
          <td class="paramname"><em>callback</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>userdata</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="gai__hotreload_8h.html#aaebb069b6896f065efd75640e0e4150b">gaihr_flags</a>&#160;</td>
          <td class="paramname"><em>flags</em> = <code><a class="el" href="gai__hotreload_8h.html#aaebb069b6896f065efd75640e0e4150ba6c207a28fdce6637b4aa1e70e64c3e94">gaihr_FlagsNone</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a file to a worker thread, which internally tracks if the given file was modified. If so it will fire an event which will result in a function call to the callback function or handled differently depending on the specified flags. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>Handle to a <a class="el" href="structgaihr__file.html" title="Hotreloadable file structure. ">gaihr_file</a> instance. </td></tr>
    <tr><td class="paramname">filename</td><td>Filename of the file to track. </td></tr>
    <tr><td class="paramname">callback</td><td>(optional) Callback function pointer when event happens. </td></tr>
    <tr><td class="paramname">userdata</td><td>(optional) Pointer to user specific data. </td></tr>
    <tr><td class="paramname">flags</td><td>(optional) Flags to handle file changes and callbacks. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 on success, 0 on failure. </dd></dl>

</div>
</div>
<a id="a288369c901929574624b267de90007cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a288369c901929574624b267de90007cd">&#9670;&nbsp;</a></span>gaihr_Untrack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gai__hotreload_8h.html#a32983003a4e816a8350f01cb22d1b01b">GAIHR_API</a> unsigned int gaihr_Untrack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgaihr__file.html">gaihr_file</a> *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes a file from the worker thread. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>Handle to a <a class="el" href="structgaihr__file.html" title="Hotreloadable file structure. ">gaihr_file</a> instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 on success, 0 on failure. </dd></dl>

</div>
</div>
<a id="a79d4ca28cdaae457474d55a0a21dd326"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79d4ca28cdaae457474d55a0a21dd326">&#9670;&nbsp;</a></span>gaihr_WaitForEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gai__hotreload_8h.html#a32983003a4e816a8350f01cb22d1b01b">GAIHR_API</a> void gaihr_WaitForEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgaihr__file.html">gaihr_file</a> *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Grabs a mutex for the specified <a class="el" href="structgaihr__file.html" title="Hotreloadable file structure. ">gaihr_file</a> handle and waits for an event. If a callback function is specifed and an event happend the callback function will be called. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>Handle to a <a class="el" href="structgaihr__file.html" title="Hotreloadable file structure. ">gaihr_file</a> instance. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Apr 25 2017 15:19:04 for libgai by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
